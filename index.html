<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Lenguaje de Cartas - Diccionario Visual</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Precarga de imagen local -->
      <a-assets>
        <img id="apicas" src="Apicas.png">
        <img id="reina_negra" src="reinanegra.png">
        <img id="reina_roja" src="reina_roja.png">
        <img id="rey" src="rey.png">
      </a-assets>

      <!-- Fondo oscuro -->
      <a-sky color="#1a1a1a"></a-sky>


      <!-- Carta mostrada con imagen precargada -->
      <a-plane id="card"
               position="0 2 -3.01"
               width="1.7" height="2.4"
               src="#apicas"
               shadow></a-plane>

      <!-- Texto explicativo -->
      <a-text id="cardText"
              value="A♠: Marca el comienzo y fin del programa."
              position="0 0.6 -3"
              align="center"
              color="#f0f0f0"
              width="4.5"
              font="mozillavr"></a-text>

      <!-- Botón para cambiar carta -->
      <a-box id="button"
             position="0 -0.5 -3"
             depth="0.2" height="0.6" width="2.2"
             color="#d62828"
             shadow>
        <a-text value="Siguiente Carta"
                align="center"
                position="0 0 0.3"
                color="#ffffff"
                width="2"
                font="mozillavr"></a-text>
      </a-box>

      <!-- Precarga de imágenes -->
      <a-assets>
        <img id="apicas" src="Apicas.png">
        <img id="fondo" src="poker-and-casino-playing-card-black-background-vector.jpg">
      </a-assets>

      <!-- Fondo con imagen personalizada -->
      <a-sky src="#fondo"></a-sky>

      <!-- Cámara y cursor -->
      <a-entity camera look-controls>
        <a-entity cursor="fuse: false; rayOrigin: mouse"
                  position="0 0 -1"
                  geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                  material="color: white; shader: flat"></a-entity>
      </a-entity>
    </a-scene>

    <script>
      const cartas = [
        {
          src: '#apicas',
          text: 'A♠: Marca el comienzo y fin del programa.'
        },
        {
          src: '#reina_negra',
          text: 'Q: Condicional if. Ejecuta instrucciones si la condición es verdadera.'
        },
        {
          src: '#reina_roja',
          text: 'Q♥: Condicional else. Ejecuta instrucciones si la condición es falsa.'
        },
        {
          src: '#rey',
          text: 'K♥: Representan bucles.'
        }
        // Puedes seguir añadiendo más cartas aquí
      ];

      let current = 0;
      const card = document.querySelector('#card');
      const text = document.querySelector('#cardText');
      const button = document.querySelector('#button');

      button.addEventListener('click', () => {
        current = (current + 1) % cartas.length;
        card.setAttribute('src', cartas[current].src);
        text.setAttribute('value', cartas[current].text);

        card.setAttribute('animation__rotate', {
          property: 'rotation',
          to: '0 360 0',
          dur: 500,
          easing: 'easeOutQuad',
          loop: false
        });

        setTimeout(() => {
          card.setAttribute('rotation', '0 0 0');
          card.removeAttribute('animation__rotate');
        }, 600);
      });
    </script>
  </body>
</html>
